
%\immediate\write18{tex maths-font-mappings.dtx}
%\immediate\write18{sh maths-map.sh}

\documentclass[10pt]{article}
\def\EUENC{EU1} % obviously to be TU shortly
\usepackage[\EUENC]{fontenc}
\usepackage{lmodern}

\edef\STIXfont{[xits-math.otf]:script=math;}
\def\UMmapping#1{mapping=#1}
\newcommand\newSTIX[2]{%
  \DeclareFontFamily{\EUENC}{#1}{}%
  \DeclareFontShape{\EUENC}{#1}{m}{n}
    {<-6>"\STIXfont;color=AA0000;+ssty=1;#2"<6-9>"\STIXfont;color=00AA00;+ssty=0;#2"<9->"\STIXfont;#2"}{}%
}

\newSTIX{STIX}     {}
\newSTIX{STIXmalpha}{\UMmapping{math-italic-gen}}
\newSTIX{STIXmsfup}{\UMmapping{math-sans}}
\newSTIX{STIXmbfup}{\UMmapping{math-bold}}
\newSTIX{STIXmtt}  {\UMmapping{math-typewriter}}
\newSTIX{STIXmfrak}{\UMmapping{math-fraktur}}
\DeclareSymbolFont{operators}{\EUENC}{STIX}{m}{n}
\DeclareSymbolFont{letters}{\EUENC}{STIXmalpha}{m}{n}
\DeclareSymbolFont{symbols}{\EUENC}{STIX}{m}{n}
\DeclareSymbolFont{largesymbols}{\EUENC}{STIX}{m}{n}
\DeclareMathAlphabet{\mathsf}{\EUENC}{STIXmsfup}{m}{n}
\DeclareMathAlphabet{\mathbf}{\EUENC}{STIXmbfup}{m}{n}
\DeclareMathAlphabet{\mathtt}{\EUENC}{STIXmtt}{m}{n}
\DeclareMathAlphabet{\mathfrak}{\EUENC}{STIXmtt}{m}{n}

\usepackage{umath2e,umathsym2e}

\begin{document}

\[
  F(\omega) = \int_{-\infty}^{\infty} e^{-i\omega t} f(t) \mathrm{d} t
\]
\[
  \sqrt{\sin^2(\Theta) + \cos^2(\Theta)} = 1
\]
\[
 abc_{abc_{abc}}+\mathsf{abc_{abc_{abc}}}
\]
\[
 \mathbf{bfBF}\quad\mathtt{ttTT}\quad\mathfrak{frakFRAK}
\]
\[
  \left(\left(\left(\left(\left(x^2\right)^2\right)^2\right)^2\right)^2\right)
\]
\[
  \left\lceil \left\lceil \left\lceil x^2 \right\rceil^2 \right\rceil^2 \right\rceil
\]

\end{document}

